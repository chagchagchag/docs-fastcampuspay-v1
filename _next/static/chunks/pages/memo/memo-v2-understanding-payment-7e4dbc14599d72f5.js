(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{1850:function(n,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/memo/memo-v2-understanding-payment",function(){return s(984)}])},984:function(n,e,s){"use strict";s.r(e),s.d(e,{__toc:function(){return j},default:function(){return p}});var i=s(5893),r=s(2673),l=s(373),d=s(8426);s(9128);var c=s(2643),h={src:"/docs-fastcampuspay-v1/_next/static/media/money-sending.5f9d9a85.png",height:307,width:730,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAAAAACLoxGUAAAAIUlEQVR42g3BgREAMAQEwe+/4ATHPLsCXma0OH8K+cTYCz0rF5IPmzHQAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:3},t={src:"/docs-fastcampuspay-v1/_next/static/media/pay.1d40bc28.png",height:417,width:881,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAAAAACWpiEsAAAAKUlEQVR42g3HsQ0AMAwCMP7/tkOlAElovRnnNi0b264NhXHR1OCvWskDMwgfWhIqdEcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4},a={src:"/docs-fastcampuspay-v1/_next/static/media/calculating.5fedf0d7.png",height:397,width:975,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAAAAACLoxGUAAAAIklEQVR42g3HtwEAMAwCMP4/OMHgqk2wyMcZpMNZ3bjGl7Q9CRd2mAK4RAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:3},x={src:"/docs-fastcampuspay-v1/_next/static/media/multi-module.ba4304af.png",height:325,width:582,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAAAAACWpiEsAAAAJ0lEQVR42g3GwQ0AIAwDse6/LyS5Vir45dK5upIrM93ws4uxSiQBPy/IHyO0K3yiAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4};let j=[{depth:2,value:"Part2. Ch04.01",id:"part2-ch0401"},{depth:2,value:"선불충전 금액이란?",id:"선불충전-금액이란"},{depth:2,value:"펌뱅킹이란 ?",id:"펌뱅킹이란-"},{depth:2,value:"Part2. Ch04.02",id:"part2-ch0402"},{depth:2,value:"송금 기능 이해",id:"송금-기능-이해"},{depth:2,value:"결제 기능 이해",id:"결제-기능-이해"},{depth:2,value:"정산 기능 이해",id:"정산-기능-이해"},{depth:2,value:"필요 기능 정의",id:"필요-기능-정의"},{depth:2,value:"멀티 모듈 정의",id:"멀티-모듈-정의"}];function _createMdxContent(n){let e=Object.assign({h2:"h2",p:"p",strong:"strong",code:"code",ul:"ul",li:"li",img:"img"},(0,c.a)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"part2-ch0401",children:"Part2. Ch04.01"}),"\n",(0,i.jsx)(e.h2,{id:"선불충전-금액이란",children:"선불충전 금액이란?"}),"\n",(0,i.jsx)(e.p,{children:"홍길동이라는 회원이 패캠페이에 가입해서 20만원을 충전하는 절차는 아래와 같다."}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Step1. 계좌등록"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["실제로 패캠페이에 20만원이라는 ",(0,i.jsx)(e.code,{children:"머니"})," 를 충전하려면 ",(0,i.jsx)(e.code,{children:"계좌"})," 라는 존재가 실제로 존재해야 한다. 이런 이유로 페이서비스 등록 시 연결할 계좌를 먼저 등록하는 절차를 거치게 된다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Step2. 계좌 → Fastcampus Pay 법인으로 20만원 이체"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["20만원을 Fastcampus Pay 에 이체해야 한다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Step3. Fastcampus Pay 로 이체 완료되었다는 응답 수신"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["Fastcampus Pay 로 이체 완료되었다는 응답을 수신받은 후 다음단계로 진행",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"Step4. Fastcampus Pay 시스템 내의 홍길동의 잔고를 업데이트"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["Fastcampus Pay 법인 계좌로 이체가 완료가 되었다는 응답을 받은 후 Fastcampus Pay 내의 홍길동의 잔고를 실질적으로 업데이트 수행. SQL 등을 통해 데이터를 업데이트",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"머니"})," 라는 것은 선불 충전 금액을 의미하며, 이 선불충전 금액을 충전하려면"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"계좌가 필수적으로 패캠페이 내의 홍길동 회원에 대해서 등록되어 있어야 하며"}),"\n",(0,i.jsx)(e.li,{children:"이렇게 연결된 계좌를 통해서 충전을 해야 하게 되는데,"}),"\n",(0,i.jsx)(e.li,{children:"이 금액은 결국 패캠페이의 법인 계좌에 입금되어 있어야 하며, 이것을 패캠머니라고 불린다."}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(e.p,{children:["이런 이유로 어딘가에 송금할 때에는 반드시 머니가 충전되어 있어야 한다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["페이 서비스들이 충전 이벤트를 자주 하는 이유는 충전이 많이 되면, 페이 시스템 내의 현금이 늘어나고, 여기에 대해 이자가 생긴다거나 하는 부수적인 효과가 있다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h2,{id:"펌뱅킹이란-",children:"펌뱅킹이란 ?"}),"\n",(0,i.jsx)(e.p,{children:"기존 페이시스템들의 공통점"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"항상 특이하게도 10000 원씩만 충전이 된다."}),"\n",(0,i.jsxs)(e.li,{children:["결제시 10000원이 넘으면 정확한 금액으로 충전.","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"11000원을 충전하려고 하면 정확하게 11000원이 충전"}),"\n",(0,i.jsx)(e.li,{children:"8000원을 충전하려고 하면 불가능하고, 기본적으로 최소 10000원까지만 충전 가능"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"페이 서비스마다 송금 메뉴를 관찰해보면 이체 가능한 은행 목록이 다르다."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"펌뱅킹 이란?"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"은행의 기능을 시스템적으로 이용하기 위한 하나의 수단"}),"\n",(0,i.jsxs)(e.li,{children:["은행의 펌뱅킹 시스템 사용하는 회사는 펌뱅킹 기능을 사용 시 마다 은행에 수수료를 지불해야 함","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"은행 간의 거래, 은행 계좌 끼리의 돈의 이동을 의미"}),"\n",(0,i.jsx)(e.li,{children:"입/출금 이행 요청시에 항상 고정 금액 수수료를 지불하게 됨"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["펌뱅킹 시스템은 페이서비스 법인과 은행사이에 펌뱅킹 서비스 이용 등록을 해야 이용 가능","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"따라서 페이서비스가 계약을 맺은 은행의 펌뱅킹을 통해서만 송금이 가능하기에 송금메뉴에 이체 가능한 은행 목록이 다르게 나타나는 것"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"10000원 보다 낮게 충전을 허용하면?"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"10000원 보다 낮은 금액을 충전하게 되면 펌뱅킹시 금액 상관 없이 소모되는 기본적인 수수료 500원(예시)으로 인해 손해(적자)가 발생"}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h2,{id:"part2-ch0402",children:"Part2. Ch04.02"}),"\n",(0,i.jsx)(e.h2,{id:"송금-기능-이해",children:"송금 기능 이해"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["패캠페이 회원 → 패캠페이 회원 으로의 송금","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"서비스 로직, DB Transaction"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["패캠페이 회원 → 패캠페이 비회원의 계좌로 송금","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"은행 상태 체크 (은행 점검시간, 수신가능 상태 등등 주기적으로 체크)"}),"\n",(0,i.jsx)(e.li,{children:"입/출금 금액 관리"}),"\n",(0,i.jsx)(e.li,{children:"법인 계좌 컨트롤"}),"\n",(0,i.jsx)(e.li,{children:"이외 기타 작업들"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"패캠페이 회원 → 패캠페이 회원으로의 송금"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["외부로 현금이 유출되지 않는다. 페이서비스 법인 계좌의 예치금은 그대로이고, Database 내에서 송금자의 송금액을 차감하고, 수금자의 잔고에 송금액을 더하면 된다. Database 내의 잔고 데이터만 변하며 외부로 예치금이 유출되지 않음",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"패캠페이 회원 → 패캠페이 비회원의 계좌로 송금"}),(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["외부로 현금이 유출된다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.p,{children:["페이서비스 법인 계좌의 예치금이 외부로 이체된다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{placeholder:"blur",src:h})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h2,{id:"결제-기능-이해",children:"결제 기능 이해"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:'"결제" 는 전표를 생성하는 과정'}),"이다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"홍길동이 피자를 먹고 싶다"}),"\n",(0,i.jsx)(e.li,{children:"미스터 피자는 패캠페이 가맹점으로 등록했다."}),"\n",(0,i.jsx)(e.li,{children:"홍길동이 패캠페이로 결제를 수행"}),"\n",(0,i.jsx)(e.li,{children:"패캠페이 시스템은 미스터 피자 사장님에 대해 전표를 발급"}),"\n",(0,i.jsx)(e.li,{children:"이때 패캠페이에서 미스터피자로의 실제 입금은 즉시 이뤄지지 않는다."}),"\n",(0,i.jsx)(e.li,{children:"일정 시간이 지난 후 패캠페이 정산 작업을 거친 후 미스터 피자 사장님께 입금이 일어난다."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{placeholder:"blur",src:t})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h2,{id:"정산-기능-이해",children:"정산 기능 이해"}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:'"정산"은 전표를 통해 돈을 +/- 작업을 통해 정리하는 작업'}),"이다.",(0,i.jsx)("br",{})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"정산 주기 : 실제 사장님들의 매출금액이 계산되어 패캠페이에서 사장님께 입금되는 주기"}),"\n",(0,i.jsx)(e.li,{children:"가맹점 사장님은 수수료를 내야 한다."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{placeholder:"blur",src:a})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["패캠페이 입장에서는 정산 주기가 늦을 수록 좋다.","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"패캠페이 계좌에 입금된 돈이 계좌에 오래 있을 수록 이자수익이 있기 때문"}),"\n",(0,i.jsx)(e.li,{children:"정산 주기가 짧아질 수록 이자 수익이 줄어든다."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.h2,{id:"필요-기능-정의",children:"필요 기능 정의"}),"\n",(0,i.jsx)(e.p,{children:"회원 가입 정보 변경 기능"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:'Membership 서비스에 "계좌연결" 기능이 추가로 필요하다.'}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.p,{children:"송금 기능 (회원 → 회원, 회원 → 비회원 은행계좌)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"회원 간 잔액 이동 비즈니스로직"}),"\n",(0,i.jsx)(e.li,{children:"banking 모듈 (실제 외부 은행 관리 시스템)"}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(e.p,{children:"가맹점의 결제 기능 + 정산기능"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"가맹점 관리 시스템 + 계좌 등록 필요"}),"\n",(0,i.jsx)(e.li,{children:"결제 시스템"}),"\n",(0,i.jsx)(e.li,{children:"정산 기능 (e.g. 크론잡)"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"멀티-모듈-정의",children:"멀티 모듈 정의"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"회원관리 - fastcampus-membership-service"}),"\n",(0,i.jsxs)(e.li,{children:["뱅킹 관리 - fastcampus-banking-service","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"외부 은행 모니터링 (입출금 가능상태 모니터링, 거래 정지시간 관리 등등)"}),"\n",(0,i.jsx)(e.li,{children:"펌뱅킹 기능"}),"\n",(0,i.jsx)(e.li,{children:"은행 리스트 관리, 펌뱅킹 기능 관련 어드민 등등"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"머니 관리 시스템 - fastcampus-money-service"}),"\n",(0,i.jsx)(e.li,{children:"가맹점 관리 - fastcampus-franchise-service"}),"\n",(0,i.jsx)(e.li,{children:"결제 및 전표 생성 시스템 - fastcampus-payment-service"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"송금 : 단순 비즈니스 로직, 정산 : 단순 CronJob"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{placeholder:"blur",src:x})})]})}let m={MDXContent:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,c.a)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(_createMdxContent,{...n})}):_createMdxContent(n)},pageOpts:{filePath:"pages/memo/memo-v2-understanding-payment.mdx",route:"/memo/memo-v2-understanding-payment",timestamp:1712314104e3,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"memo",route:"/memo",children:[{kind:"MdxPage",name:"memo-v1",route:"/memo/memo-v1"},{kind:"MdxPage",name:"memo-v2-understanding-payment",route:"/memo/memo-v2-understanding-payment"},{kind:"MdxPage",name:"memo-v3",route:"/memo/memo-v3"},{kind:"Meta",data:{"memo-v1":"메모 v1","memo-v2-understanding-payment":"Memo V2 Understanding Payment","memo-v3":"Memo V3"}}]},{kind:"MdxPage",name:"memo",route:"/memo"},{kind:"Meta",data:{index:"Introduction",memo:"메모",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"Memo V2 Understanding Payment",headings:j},pageNextRoute:"/memo/memo-v2-understanding-payment",nextraLayout:l.ZP,themeConfig:d.Z};var p=(0,r.j)(m)},8426:function(n,e,s){"use strict";var i=s(5893);s(7294);let r={logo:(0,i.jsx)("span",{children:"My Project"}),project:{link:"https://github.com/chagchagchag/docs-fastcampuspay-v1"},docsRepositoryBase:"https://github.com/chagchagchag/docs-fastcampuspay-v1",footer:{text:"Nextra Docs Template"}};e.Z=r},5789:function(){}},function(n){n.O(0,[774,796,888,179],function(){return n(n.s=1850)}),_N_E=n.O()}]);