(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{6102:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/temporary",function(){return r(336)}])},336:function(n,e,r){"use strict";r.r(e),r.d(e,{__toc:function(){return d}});var s=r(5893),t=r(2673),i=r(373),c=r(8426);r(9128);var o=r(2643);let d=[];function _createMdxContent(n){let e=Object.assign({p:"p",strong:"strong",ul:"ul",li:"li",code:"code"},(0,o.a)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["아무거나 일단 생각나는 대로 메모, 계획 세운 내용들",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["MSA 는 서비스 하나를 구분지어서 그것을 전담해서 개발하는 구조라면 DDD 는 바운디드 컨텍스트를 가진 서브도메인을 규정해서 소규모의 통신을 하는 것을 의미함.",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["DDD 의 서브도메인은 바운디드 컨텍스트를 갖는데 그것이 MSA 에서의 서비스를 구분짓는 단위가 아닌 기술적인 역할 등 물리적인 작업 중 구분해야 하는 세부적인 개념이다. 도메인이라는 말에서 꽤 고상한 냄새를 풍기기에 초반에 착각을 자주하게된다. MSA가 조금 더 큰 범위의 개념이고 MSA 내에서 필요한 부분들을 모아서 도메인의 범위를 규정해서 도메인 드리븐으로 개발하게 된다.",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"내 생각"}),(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["내 생각에는 결국 MSA 를 전부 갈아엎고 DDD로 전환하는 것은 불가능하며 극히 일부기능을 DDD로 전환하게 되는 듯.",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["오케스트레이션을 하고 있는 MSA가 성능이 높아져야 하거나 분산트랜잭션이 필요할 경우 EDA로 전환.",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["꼭 필요한 비즈니스 요건이 아니라면 분산트랜잭션 도입은 안하는게 낫다. 이런 경우 앞단의 Gateway 등으로 유량을 제어하거나, Gateway가 구축되지 않은 레거시 시스템의 프론트서버 환경이라면... Request 의 최대치 등을 통해 요청 자체를 실패하도록 제어하는 것도 방법.",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["비즈니스 요건 상 고가용성 + 고빈도 트래픽을 모두 받아야만 하는 상황이라면 분산트랜잭션을 도입.",(0,s.jsx)("br",{})]}),"\n",(0,s.jsxs)(e.p,{children:["하지만, 대부분의 경우 트랜잭션의 ACID를 만족하면서 고 성능까지는 필요가 없는 경우가 대다수. 이런 경우 굳이 분산트랜잭션을 도입하기 보다는 요청의 유량이 일정치 범주 안에서는 Request 제어레벨에서 애초에 트랜잭션 진입을 차단 후, 요청자체를 다시하게끔 유도하는게 합리적인 선택",(0,s.jsx)("br",{})]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"DDD 설계시 분해의 기본 원칙"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"유비쿼터스"}),"\n",(0,s.jsx)(e.li,{children:"도메인 언어"}),"\n",(0,s.jsx)(e.li,{children:"경계 컨텍스트"}),"\n",(0,s.jsx)(e.li,{children:"서브도메인"}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"MSA 설계시 주요 과정"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"MSA 식별 및 선별 절차"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"기능요건 정의"}),"\n",(0,s.jsx)(e.li,{children:"도메인 모델 도출"}),"\n",(0,s.jsx)(e.li,{children:"시스템 작업 구별,식별작업"}),"\n",(0,s.jsxs)(e.li,{children:["고수준 시나리오, ",(0,s.jsx)(e.code,{children:"케이스"})," 정의"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"카프카 주요 개념 중 짚고 가야 하는 것 (필수적으로 정리해둬야 하는 것들)"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Partition Replication Factor (구글드라이브에 정리해둔 사진 첨부 꼭!!)"}),"\n",(0,s.jsx)(e.li,{children:"ISR"}),"\n",(0,s.jsx)(e.li,{children:"Partition"}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"IPC"}),"\r\nSync 통신과 Async 통신\r\nSync : http, grpc\r\nAsync : Kafka, RabbitMQ\r\n각각의 장단점, GRPC의 단점 (.proto 깨지면 모두 깨진다는 점 등등)\r\n주의 ) Async 는 Non Blocking 이 아니라 응답결과를 돌려받지 않고 자기 작업을 끝내는 것을 의미. 인터넷이나 블로그에서 Async 를 논블로킹한 통신인 것처럼 혼용되는 경우가 너무 많기에 주의점으로 정리"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"SAGA 와 Transaction"}),"\r\n2PC, 보상트랜잭션"]}),"\n",(0,s.jsx)(e.p,{children:"분산 트랜잭션과 트랜잭션 조율"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"코레오그레피, 오케스트레이션\r\n난 이거 다 쓰기 싫다구!!!"}),"\n"]}),"\n",(0,s.jsx)("br",{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"이벤트 소싱과 EDA"}),"\r\n트랜잭션의 어려움을 이벤트 기반으로."]}),"\n",(0,s.jsx)(e.p,{children:"머니 충전, 송금 기능에 대해 분산 트랜잭션 도입이 필요한지"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"머니충전 : 필요하다. 펌뱅킹 출금과 머니충전이 하나의 트랜잭션 단위로 원자성 기반으로 동작해야 한다. 안그럴경우 소송이 발생"}),"\n",(0,s.jsx)(e.li,{children:"송금: 불필요하다. 머니를 충전했더라도 송금이 실패하는 것은 금전의 손해가 발생하지 않는다. 오히려 페이시스템 법인에도 이득이 될 수 있다."}),"\n"]})]})}let a={MDXContent:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,o.a)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(_createMdxContent,{...n})}):_createMdxContent(n)},pageOpts:{filePath:"pages/temporary.mdx",route:"/temporary",timestamp:1712628831e3,pageMap:[{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"memo",route:"/memo",children:[{kind:"MdxPage",name:"memo-v1",route:"/memo/memo-v1"},{kind:"MdxPage",name:"memo-v2-understanding-payment",route:"/memo/memo-v2-understanding-payment"},{kind:"MdxPage",name:"memo-v3",route:"/memo/memo-v3"},{kind:"Meta",data:{"memo-v1":"메모 v1","memo-v2-understanding-payment":"Memo V2 Understanding Payment","memo-v3":"Memo V3"}}]},{kind:"MdxPage",name:"memo",route:"/memo"},{kind:"MdxPage",name:"temporary",route:"/temporary"},{kind:"Meta",data:{index:"Introduction",memo:"메모",contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0},temporary:"Temporary"}}],flexsearch:{codeblocks:!0},title:"Temporary",headings:d},pageNextRoute:"/temporary",nextraLayout:i.ZP,themeConfig:c.Z};e.default=(0,t.j)(a)},8426:function(n,e,r){"use strict";var s=r(5893);r(7294);let t={logo:(0,s.jsx)("span",{children:"My Project"}),project:{link:"https://github.com/chagchagchag/docs-fastcampuspay-v1"},docsRepositoryBase:"https://github.com/chagchagchag/docs-fastcampuspay-v1",footer:{text:"Nextra Docs Template"}};e.Z=t},5789:function(){}},function(n){n.O(0,[774,796,888,179],function(){return n(n.s=6102)}),_N_E=n.O()}]);